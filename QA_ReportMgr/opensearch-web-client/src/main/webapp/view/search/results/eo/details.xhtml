<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:spb="http://www.spacebel.be/jsf"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <div class="view-details-fluidgrid" style="height:100%; width:100%">		
        <c:set var="imageUrl" value="#{presentItem.previewUrl}" />                 
        <h:panelGroup rendered="#{not empty imageUrl and imageUrl eq 'CUSTOMQUICKLOOKMAP'}">
            <pe:fluidGrid hGutter="1" vGutter="1" hasImages="true">
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">
                    <div style="max-width: calc(100% - 10px); max-height: 100%; margin: 5px;">
                        <div id="#{presentItem.thumbnailDivId}" style="width:100%; height: 100%;"/>
                    </div>
                </pe:fluidGridItem>
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">
                    <ui:include src="dataFirstColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />                     
                    </ui:include>
                </pe:fluidGridItem>
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">
                    <ui:include src="dataSecondColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />
                    </ui:include>
                </pe:fluidGridItem>
            </pe:fluidGrid>
        </h:panelGroup>
        <h:panelGroup rendered="#{not empty imageUrl and imageUrl ne 'CUSTOMQUICKLOOKMAP'}">
            <pe:fluidGrid hGutter="1" vGutter="1" hasImages="true">
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">	                 
                    <ui:remove>
                        <img src="#{spb:setImageSize(imageUrl,'400,500')}" style="max-width: calc(100% - 5px);"/> 
                    </ui:remove>
                    <p:graphicImage value="#{spb:setImageSize(imageUrl,'400,500')}" style="max-width: calc(100% - 5px);"/>

                </pe:fluidGridItem>
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">
                    <ui:include src="dataFirstColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />                     
                    </ui:include>
                </pe:fluidGridItem>
                <pe:fluidGridItem styleClass="fluidgrid-cell-three-columns">
                    <ui:include src="dataSecondColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />
                    </ui:include>
                </pe:fluidGridItem>
            </pe:fluidGrid>
        </h:panelGroup>
        <h:panelGroup rendered="#{empty imageUrl}">
            <pe:fluidGrid hGutter="1" vGutter="1">
                <pe:fluidGridItem styleClass="fluidgrid-cell-two-columns">
                    <ui:include src="dataFirstColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />                     
                    </ui:include>
                </pe:fluidGridItem>
                <pe:fluidGridItem styleClass="fluidgrid-cell-two-columns">
                    <ui:include src="dataSecondColumn.xhtml">
                        <ui:param name="presentItem" value="#{presentItem}" />
                    </ui:include>
                </pe:fluidGridItem>
            </pe:fluidGrid>
        </h:panelGroup>
    </div>
</ui:composition>